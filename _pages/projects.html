---
layout: archive
title: "Projects"
permalink: /projects/
author_profile: true
---

{% assign all_tags = "" | split: "," %}
{% for post in site.projects %}
  {% if post.tags %}
    {% for tag in post.tags %}
      {% assign all_tags = all_tags | push: tag %}
    {% endfor %}
  {% endif %}
{% endfor %}
{% assign unique_tags = all_tags | uniq | sort %}

<style>
  /* Filter Button Styling */
  .tag-filter-btn {
    background: #ffffff;
    color: #13294B; 
    border: 1px solid #13294B;
    padding: 6px 18px;
    border-radius: 20px;
    margin-right: 8px;
    margin-bottom: 12px;
    font-size: 13.5px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s ease-in-out;
    box-shadow: 0 2px 4px rgba(0,0,0,0.05);
  }

  .tag-filter-btn:hover {
    background: #eef2f7;
    transform: translateY(-1px);
    box-shadow: 0 4px 6px rgba(0,0,0,0.1);
  }

  .tag-filter-btn.active-tag {
    background: #13294B;
    color: #ffffff;
    box-shadow: inset 0 2px 4px rgba(0,0,0,0.2);
  }

  /* Container Layout */
  #projects-container {
    display: block !important;
    width: 100% !important;
    clear: both !important;
    margin-top: 30px;
  }
</style>

<div id="tag-filters" style="width: 100%; clear: both; margin-bottom: 20px; padding-bottom: 10px;">
  <span style="font-weight: bold; margin-right: 15px; color: #24292e; font-size: 16px;">Filter by topic:</span>
  <button class="tag-filter-btn active-tag" data-tag="all">All</button>
  {% for tag in unique_tags %}
    <button class="tag-filter-btn" data-tag="{{ tag }}">{{ tag }}</button>
  {% endfor %}
</div>

{% include base_path %}

<div id="projects-container">
  {% for post in site.projects reversed %}
    {% include archive-single-project.html %}
  {% endfor %}
</div>

<script>
  document.addEventListener("DOMContentLoaded", function() {
    const buttons = document.querySelectorAll('.tag-filter-btn');
    // Note: The selector here must match the class inside archive-single-project.html
    const cards = document.querySelectorAll('.project-card');

    function filterProjects(selectedTag) {
      cards.forEach(card => {
        const cardTags = card.getAttribute('data-tags') || "";
        
        if (selectedTag === 'all' || cardTags.split(',').includes(selectedTag)) {
          card.style.setProperty('display', 'flex', 'important');
        } else {
          card.style.setProperty('display', 'none', 'important');
        }
      });
    }

    // Handle URL Tags
    const urlParams = new URLSearchParams(window.location.search);
    const tagFromUrl = urlParams.get('tag');
    if (tagFromUrl) {
      buttons.forEach(b => {
        if (b.getAttribute('data-tag') === tagFromUrl) {
          buttons.forEach(btn => btn.classList.remove('active-tag'));
          b.classList.add('active-tag');
          filterProjects(tagFromUrl);
        }
      });
    }

    // Button Click Logic
    buttons.forEach(button => {
      button.addEventListener('click', function() {
        buttons.forEach(b => b.classList.remove('active-tag'));
        this.classList.add('active-tag');
        const selectedTag = this.getAttribute('data-tag');
        
        const newUrl = selectedTag === 'all' ? window.location.pathname : window.location.pathname + '?tag=' + encodeURIComponent(selectedTag);
        window.history.pushState({}, '', newUrl);

        filterProjects(selectedTag);
      });
    });
  });
</script>