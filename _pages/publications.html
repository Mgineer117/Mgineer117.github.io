---
layout: archive
title: "Publications"
permalink: /publications/
author_profile: true
---

{% assign all_tags = "" | split: "," %}
{% for post in site.publications %}
  {% if post.tags %}
    {% for tag in post.tags %}
      {% assign all_tags = all_tags | push: tag %}
    {% endfor %}
  {% endif %}
{% endfor %}
{% assign unique_tags = all_tags | uniq | sort %}

<style>
  /* 1. Filter Button Styling */
  .tag-filter-btn {
    background: #ffffff;
    color: #13294B; 
    border: 1px solid #13294B;
    padding: 6px 18px;
    border-radius: 20px;
    margin-right: 8px;
    margin-bottom: 12px;
    font-size: 13.5px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s ease-in-out;
  }

  .tag-filter-btn:hover { background: #eef2f7; transform: translateY(-1px); }
  .tag-filter-btn.active-tag { background: #13294B; color: #ffffff; }

  /* 2. Container and Section Layout */
  #publications-container, .category-section {
    display: block !important;
    width: 100% !important;
    clear: both !important;
  }

  /* 3. Publication Card Logic */
  .publication-card {
    display: flex !important;
    align-items: stretch;
    gap: 30px;
    margin-bottom: 50px !important;
  }

  .teaser-wrapper { flex: 0 0 220px; display: flex; }

  .card-teaser-image {
    width: 100% !important;
    height: 100% !important;
    object-fit: cover !important;
    border-radius: 10px;
    border: 1px solid #e1e4e8;
  }

  .card-text-content {
    flex: 1;
    display: flex;
    flex-direction: column;
    justify-content: space-between; /* This forces the button row to the bottom */
  }

  .button-row {
    display: flex;
    gap: 10px;
    margin-top: auto; /* Pushes buttons to the bottom of the flex container */
  }

  @media (max-width: 800px) {
    .publication-card { flex-direction: column !important; }
    .teaser-wrapper { width: 100%; height: 200px; }
  }
</style>

<div id="tag-filters" style="width: 100%; clear: both; margin-bottom: 20px; padding-bottom: 10px;">
  <span style="font-weight: bold; margin-right: 15px; color: #24292e;">Filter by topic:</span>
  <button class="tag-filter-btn active-tag" data-tag="all">All</button>
  {% for tag in unique_tags %}
    <button class="tag-filter-btn" data-tag="{{ tag }}">{{ tag }}</button>
  {% endfor %}
</div>

{% include base_path %}

<div id="publications-container">
  {% assign category_order = "preprints,conferences,journals" | split: "," %}

  {% for cat_id in category_order %}
    <div class="category-section" id="section-{{ cat_id }}">
      {% assign title_shown = false %}
      {% for post in site.publications reversed %}
        {% if post.category == cat_id %}
          {% unless title_shown %}
            <h2 class="category-header" style="color: #13294B; margin-top: 40px; clear: both; border-bottom: 2px solid #e1e4e8; padding-bottom: 10px;">
              {% if cat_id == "preprints" %}üìÑ Preprints & Working Papers
              {% elsif cat_id == "conferences" %}üèõÔ∏è Conference Proceedings
              {% elsif cat_id == "journals" %}üìö Journal Articles
              {% else %}{{ cat_id | capitalize }}{% endif %}
            </h2>
            {% assign title_shown = true %}
          {% endunless %}
          {% include archive-single-fancy.html %}
        {% endif %}
      {% endfor %}
    </div>
  {% endfor %}
</div>

<script>
  document.addEventListener("DOMContentLoaded", function() {
    const buttons = document.querySelectorAll('.tag-filter-btn');
    const cards = document.querySelectorAll('.publication-card');
    const categories = document.querySelectorAll('.category-section');

    function filterPapers(selectedTag) {
      // 1. Show or hide individual cards based on the tag
      cards.forEach(card => {
        const cardTags = card.getAttribute('data-tags') || "";
        
        // If 'All' is selected, or if the card's tags include the selected tag
        if (selectedTag === 'all' || cardTags.includes(selectedTag)) {
          card.style.setProperty('display', 'flex', 'important');
        } else {
          card.style.setProperty('display', 'none', 'important');
        }
      });

      // 2. Hide entire category sections (like "Journal Articles") if they are empty
      categories.forEach(category => {
        const visibleCards = Array.from(category.querySelectorAll('.publication-card'))
                                  .filter(c => c.style.display !== 'none');
        
        if (visibleCards.length === 0) {
          category.style.setProperty('display', 'none', 'important');
        } else {
          category.style.setProperty('display', 'block', 'important');
        }
      });
    }

    // Check if someone loaded the page with a specific URL tag (e.g., ?tag=Safe RL)
    const urlParams = new URLSearchParams(window.location.search);
    const tagFromUrl = urlParams.get('tag');
    
    if (tagFromUrl) {
      buttons.forEach(b => {
        if (b.getAttribute('data-tag') === tagFromUrl) {
          buttons.forEach(btn => btn.classList.remove('active-tag'));
          b.classList.add('active-tag');
          filterPapers(tagFromUrl);
        }
      });
    }

    // Make the buttons clickable
    buttons.forEach(button => {
      button.addEventListener('click', function() {
        // Change button colors
        buttons.forEach(b => b.classList.remove('active-tag'));
        this.classList.add('active-tag');
        
        // Run the filter
        const selectedTag = this.getAttribute('data-tag');
        
        // Update the URL so it can be shared
        const newUrl = selectedTag === 'all' ? window.location.pathname : window.location.pathname + '?tag=' + encodeURIComponent(selectedTag);
        window.history.pushState({}, '', newUrl);

        filterPapers(selectedTag);
      });
    });
  });
</script>